<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<!--  Dicionando Links do cabeçalho  ___  Fragments headerfiles -->
<th:block th:include="fragments/layout.html :: headerfiles"> </th:block> 
</head>
<body>

<!--  Dicionando Menu  ___  Fragments NAVLINKS -->
<div th:replace="fragments/layout :: navlinks"></div>
    
    
<main id="main" class="main">

   <section class="section dashboard">
     <div class="row">

        <!-- Left side columns -->
        <class="col-lg-8">
          <div class="row">
			
			  
	         <div class="card info-card customers-card">
	
		         <div class="card-body">
		         		</br>
		         		
		         		<span th:if="${msg == 'success'}">
					        <div class="alert alert-success alert-dismissible fade show" role="alert">
								<strong>Sucesso!</strong> Usuário adicionado a base de dados.
								<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
						</div></span>
						
						<span th:if="${msg == 'error'}">
					        <div class="alert alert-danger alert-dismissible fade show" role="alert">
								<strong>Error!</strong> Escolha um login diferente!.
								<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
						</div></span>
						
						<a href="/admin/user/listar" class="btn btn-primary btn-sm" tabindex="-1"
			         	     role="button" aria-disabled="true"><i class='bx bx-list-ul'></i>Listar</a>
		         		
		                <h5 class="card-title">Cadastrar <span>| Usuário</span></h5>
		
			        <form action="/admin/user/salvar"
						th:object="${user}" method="POST">
						
						<div class="mb-3">
						  <label for="nome" class="form-label">Nome</label>
						  <input type="text" class="form-control" id="nome" th:field="*{name}"
						           placeholder="Nome" required >
						</div>
						<div class="mb-3">
						  <label for="user" class="form-label">Usuário</label>
						  <input type="text" class="form-control" id="user"
						                  th:field="*{username}"  placeholder="Username">
						</div>
						<div class="mb-3">
						  <label for="email" class="form-label">Email</label>
						  <input type="email" class="form-control" id="email" th:field="*{email}"
						           placeholder="E-mail" required >
						</div>
						
						
						<div class="mb-3">
	                      <label for="yourPassword" class="form-label">Password</label>
	                      <input type="password" name="password" class="form-control" id="yourPassword"
	                               th:field="*{password}" required>
	                      
	                    </div>
	                    
	                    <div class="form-row" th:object="${user_roles}"> 
						    <div class="container">
		                    
			                    <div class="mb-3">
								<label for="roles">Tipo de Permissão</label> <select th:field="*{nome}"
											class="form-control" id="roles" >
											<option th:each="r: ${roles}" th:value="${r}"
												th:text="${r.nome}"></option>
										</select>
								</div>
								<div class="form-group col-md-2">
								
								<button id="add" name="acao" style="margin-top:8px" th:value="itens" type="submit"
									class="btn btn-primary">Adicionar</button>
								</div>
							</div><!-- FIM Div Container -->
					    </div> <!-- FIM form-row -->
						
						<hr />
						
						
						<div class="form-row">
							<div class="form-group col-md-12">
								<div class="table-responsive">
									<table class="table datatable">
										<thead>
											<tr>
										
												<th>Permissão</th>
											
		
											</tr>
										</thead>
										<tbody>
											<tr th:each="iten : ${listaRolesUser}">
											 
												<td th:text="${iten.nome}"></td>
												
												<td>
												 	<button id="add" name="acao" style="margin-top:8px"
												 	     th:value="${iten.nome}" type="submit"
								                          class="btn btn-primary"><i class='bx bx-trash'></i></button>
													
												</td>
		
											</tr>
										</tbody>
									</table>
								</div>
							</div>
							</br>
						</div>

						
						
						<input type="hidden" id="id" th:field="*{id}" value="" />
						<button type="submit" name="acao" th:value="salvar" class="btn btn-primary btn-sm">Salvar</button>
					</form>
			
		         </div>
	         </div>

          </div><!-- End Customers Card -->

      
     </div>
   </section>

</main><!-- End #main -->
  
    
   <!--  Dicionando Footer  ___  Fragments FOOTER -->
  <div th:replace="fragments/layout :: footer"></div>
</body>
</html>
